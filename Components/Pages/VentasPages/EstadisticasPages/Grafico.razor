@using ChartJs.Blazor.Charts
@using ChartJs.Blazor.ChartJS.BarChart
@using ChartJs.Blazor.ChartJS.Common.Axes
@using ChartJs.Blazor.ChartJS.Common.Axes.Ticks
@using ChartJs.Blazor.Util

<BarChart @ref="barChart" />

@code {
    private BarChart barChart;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            var data = new BarChartData
                {
                    Labels = new[] { "Enero", "Febrero", "Marzo", "Abril", "Mayo" },
                    Datasets = new List<BarDataset>
                {
                    new BarDataset
                    {
                        Label = "Ventas",
                        Data = new[] { 65, 59, 80, 81, 56 },
                        BackgroundColor = new[]
                        {
                            ColorUtil.FromDrawingColor(System.Drawing.Color.Red),
                            ColorUtil.FromDrawingColor(System.Drawing.Color.Blue),
                            ColorUtil.FromDrawingColor(System.Drawing.Color.Green),
                            ColorUtil.FromDrawingColor(System.Drawing.Color.Yellow),
                            ColorUtil.FromDrawingColor(System.Drawing.Color.Purple)
                        }
                    }
                }
                };

            var options = new BarChartOptions
                {
                    Responsive = true,
                    Scales = new BarScales
                    {
                        XAxes = new List<CartesianAxis>
                    {
                        new CategoryAxis
                        {
                            Ticks = new CategoryTicks { BeginAtZero = true }
                        }
                    },
                        YAxes = new List<CartesianAxis>
                    {
                        new LinearCartesianAxis
                        {
                            Ticks = new LinearCartesianTicks { BeginAtZero = true }
                        }
                    }
                    }
                };

            await barChart.Update(data, options);
        }
    }
}
